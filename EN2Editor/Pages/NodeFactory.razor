@using EN2Editor.Pages.Nodes
@using Model.Managers
@using Model.Nodes
@using NodeComponents

@switch (NodeModelBase.NodeType) {
    // ###########
    // Start nodes
    // ###########

    case NodeModelBase.NodeTypes.AktivFraStarten: {
        <NodeBase Header="Aktiv fra start" NodeModel="NodeModelBase" OnDeleteEvent="OnDeleteEvent" ColorStyle="node-type-start">
            <AktivFraStartenNode NodeModelBase="(AktivFraStartenNodeModel) NodeModelBase"/>
        </NodeBase>
        break;
    }

    // ##############
    // Internal nodes
    // ##############

    case NodeModelBase.NodeTypes.Udsaet:
        <NodeBase Header="Udskyd" NodeModel="NodeModelBase" OnDeleteEvent="OnDeleteEvent" ColorStyle="node-type-internal">
            <UdsaetNode NodeModel="(UdsaetNodeModel) NodeModelBase"/>
        </NodeBase>
        break;
    case NodeModelBase.NodeTypes.KaldSygeplejerske:
        <NodeBase Header="Kald sygeplejerske" NodeModel="NodeModelBase" OnDeleteEvent="OnDeleteEvent" ColorStyle="node-type-internal">
            <StandardInternalNode NodeModel="(KaldSygeplejerskeNodeModel) NodeModelBase"/>
        </NodeBase>
        break;

    case NodeModelBase.NodeTypes.Dialog:
        <NodeBase ExtraStyle="width: 300px" Header="Dialog" NodeModel="NodeModelBase" OnDeleteEvent="OnDeleteEvent" ColorStyle="node-type-internal">
            <DialogNode NodeModel="(DialogNodeModel) NodeModelBase"/>
        </NodeBase>

        break;

    // ##############
    // End nodes
    // ##############

    case NodeModelBase.NodeTypes.SletVedAfslutning:
        <NodeBase Header="Slet" NodeModel="NodeModelBase" OnDeleteEvent="OnDeleteEvent" ColorStyle="node-type-end">
            <SletVedAfslutningNode NodeModelBase="(SletVedAfslutningNodeModel) NodeModelBase"/>
        </NodeBase>
        break;
}


@code {

    [Parameter]
    public NodeModelBase NodeModelBase { get; set; }

    // TODO burde kunne bruge CascadingParameter her, i stedet for at forwarde event to gange?
    [Parameter]
    public EventCallback<NodeModelBase> OnDeleteEvent { get; set; }

}